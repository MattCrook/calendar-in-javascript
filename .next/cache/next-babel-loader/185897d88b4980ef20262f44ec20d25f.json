{"ast":null,"code":"// import { readFileSync } from 'fs';\n// const domino = require('domino');\n// const DIST_FOLDER = join(process.cwd(), 'dist');\n// const template = readFileSync(join(DIST_FOLDER, 'browser', 'index.html')).toString();\n// const winObj = domino.createWindow(template);\n// global['window'] = winObj;\n// global['document'] = winObj.document;\nvar months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\nvar startYear = 2000;\nvar endYear = 2020;\nvar month = 0;\nvar year = 0;\nvar selectedDays = new Array();\nvar mousedown = false; // eslint-disable-next-line no-unused-vars\n\nvar mousemove = false;\n\nfunction loadCalendarMonths() {\n  for (var i = 0; i < months.length; i++) {\n    var doc = document.createElement(\"div\");\n    doc.innerHTML = months[i];\n    doc.classList.add(\"dropdown-item\");\n\n    doc.onclick = function () {\n      var selectedMonth = i;\n      return function () {\n        month = selectedMonth;\n        document.getElementById(\"curMonth\").innerHTML = months[month];\n        loadCalendarDays();\n        return month;\n      };\n    }();\n\n    document.getElementById(\"months\").appendChild(doc);\n  }\n}\n\nfunction loadCalendarYears() {\n  document.getElementById(\"years\").innerHTML = \"\";\n\n  for (var i = startYear; i <= endYear; i++) {\n    var doc = document.createElement(\"div\");\n    doc.innerHTML = i;\n    doc.classList.add(\"dropdown-item\");\n\n    doc.onclick = function () {\n      var selectedYear = i;\n      return function () {\n        year = selectedYear;\n        document.getElementById(\"curYear\").innerHTML = year;\n        loadCalendarDays();\n        return year;\n      };\n    }();\n\n    document.getElementById(\"years\").appendChild(doc);\n  }\n}\n\nfunction loadCalendarDays() {\n  document.getElementById(\"calendarDays\").innerHTML = \"\";\n  var tmpDate = new Date(year, month, 0);\n  var num = daysInMonth(month, year);\n  var dayofweek = tmpDate.getDay(); // find where to start calendar day of week\n\n  for (var i = 0; i <= dayofweek; i++) {\n    var d = document.createElement(\"div\");\n    d.classList.add(\"day\");\n    d.classList.add(\"blank\");\n    document.getElementById(\"calendarDays\").appendChild(d);\n  } // eslint-disable-next-line no-redeclare\n\n\n  for (var i = 0; i < num; i++) {\n    var tmp = i + 1; // eslint-disable-next-line no-redeclare\n\n    var d = document.createElement(\"div\");\n    d.id = \"calendarday_\" + tmp;\n    d.className = \"day\";\n    d.innerHTML = tmp;\n    d.dataset.day = tmp;\n    d.addEventListener(\"click\", function () {\n      this.classList.toggle(\"selected\");\n      if (!selectedDays.includes(this.dataset.day)) selectedDays.push(this.dataset.day);else selectedDays.splice(selectedDays.indexOf(this.dataset.day), 1);\n    });\n    d.addEventListener(\"mousemove\", function (e) {\n      e.preventDefault();\n\n      if (mousedown) {\n        this.classList.add(\"selected\");\n        if (!selectedDays.includes(this.dataset.day)) selectedDays.push(this.dataset.day);\n      }\n    });\n    d.addEventListener(\"mousedown\", function (e) {\n      e.preventDefault();\n      mousedown = true;\n    });\n    d.addEventListener(\"mouseup\", function (e) {\n      e.preventDefault();\n      mousedown = false;\n    });\n    document.getElementById(\"calendarDays\").appendChild(d);\n  }\n\n  var clear = document.createElement(\"div\");\n  clear.className = \"clear\";\n  document.getElementById(\"calendarDays\").appendChild(clear);\n}\n\nfunction daysInMonth(month, year) {\n  var d = new Date(year, month + 1, 0);\n  return d.getDate();\n}\n\nvar h2 = document.getElementById(\"heading\");\n\nif (document) {\n  h2.addEventListener(\"load\", function () {\n    var date = new Date();\n    month = date.getMonth();\n    year = date.getFullYear();\n    document.getElementById(\"curMonth\").innerHTML = months[month];\n    document.getElementById(\"curYear\").innerHTML = year;\n    loadCalendarMonths();\n    loadCalendarYears();\n    loadCalendarDays();\n  });\n} // eslint-disable-next-line no-undef\n// module.exports = {\n//   loadCalendarMonths,\n//   loadCalendarYears,\n//   loadCalendarDays,\n//   daysInMonth,\n// };","map":{"version":3,"sources":["/Users/matthewcrook/code/personal-projects/javascript/calendar-in-javascript/pages/index.js"],"names":["months","startYear","endYear","month","year","selectedDays","Array","mousedown","mousemove","loadCalendarMonths","i","length","doc","document","createElement","innerHTML","classList","add","onclick","selectedMonth","getElementById","loadCalendarDays","appendChild","loadCalendarYears","selectedYear","tmpDate","Date","num","daysInMonth","dayofweek","getDay","d","tmp","id","className","dataset","day","addEventListener","toggle","includes","push","splice","indexOf","e","preventDefault","clear","getDate","h2","date","getMonth","getFullYear"],"mappings":"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","sourcesContent":["// import { readFileSync } from 'fs';\n// const domino = require('domino');\n// const DIST_FOLDER = join(process.cwd(), 'dist');\n// const template = readFileSync(join(DIST_FOLDER, 'browser', 'index.html')).toString();\n// const winObj = domino.createWindow(template);\n// global['window'] = winObj;\n// global['document'] = winObj.document;\n\nvar months = [\n  \"Jan\",\n  \"Feb\",\n  \"Mar\",\n  \"Apr\",\n  \"May\",\n  \"Jun\",\n  \"Jul\",\n  \"Aug\",\n  \"Sep\",\n  \"Oct\",\n  \"Nov\",\n  \"Dec\",\n];\n\nvar startYear = 2000;\nvar endYear = 2020;\nvar month = 0;\nvar year = 0;\nvar selectedDays = new Array();\nvar mousedown = false;\n// eslint-disable-next-line no-unused-vars\nvar mousemove = false;\n\nfunction loadCalendarMonths() {\n  for (var i = 0; i < months.length; i++) {\n    var doc = document.createElement(\"div\");\n    doc.innerHTML = months[i];\n    doc.classList.add(\"dropdown-item\");\n\n    doc.onclick = (function () {\n      var selectedMonth = i;\n      return function () {\n        month = selectedMonth;\n        document.getElementById(\"curMonth\").innerHTML = months[month];\n        loadCalendarDays();\n        return month;\n      };\n    })();\n\n    document.getElementById(\"months\").appendChild(doc);\n  }\n}\n\nfunction loadCalendarYears() {\n  document.getElementById(\"years\").innerHTML = \"\";\n\n  for (var i = startYear; i <= endYear; i++) {\n    var doc = document.createElement(\"div\");\n    doc.innerHTML = i;\n    doc.classList.add(\"dropdown-item\");\n\n    doc.onclick = (function () {\n      var selectedYear = i;\n      return function () {\n        year = selectedYear;\n        document.getElementById(\"curYear\").innerHTML = year;\n        loadCalendarDays();\n        return year;\n      };\n    })();\n\n    document.getElementById(\"years\").appendChild(doc);\n  }\n}\n\nfunction loadCalendarDays() {\n  document.getElementById(\"calendarDays\").innerHTML = \"\";\n\n  var tmpDate = new Date(year, month, 0);\n  var num = daysInMonth(month, year);\n  var dayofweek = tmpDate.getDay(); // find where to start calendar day of week\n\n  for (var i = 0; i <= dayofweek; i++) {\n    var d = document.createElement(\"div\");\n    d.classList.add(\"day\");\n    d.classList.add(\"blank\");\n    document.getElementById(\"calendarDays\").appendChild(d);\n  }\n\n  // eslint-disable-next-line no-redeclare\n  for (var i = 0; i < num; i++) {\n    var tmp = i + 1;\n    // eslint-disable-next-line no-redeclare\n    var d = document.createElement(\"div\");\n    d.id = \"calendarday_\" + tmp;\n    d.className = \"day\";\n    d.innerHTML = tmp;\n    d.dataset.day = tmp;\n\n    d.addEventListener(\"click\", function () {\n      this.classList.toggle(\"selected\");\n\n      if (!selectedDays.includes(this.dataset.day))\n        selectedDays.push(this.dataset.day);\n      else selectedDays.splice(selectedDays.indexOf(this.dataset.day), 1);\n    });\n\n    d.addEventListener(\"mousemove\", function (e) {\n      e.preventDefault();\n      if (mousedown) {\n        this.classList.add(\"selected\");\n\n        if (!selectedDays.includes(this.dataset.day))\n          selectedDays.push(this.dataset.day);\n      }\n    });\n\n    d.addEventListener(\"mousedown\", function (e) {\n      e.preventDefault();\n      mousedown = true;\n    });\n\n    d.addEventListener(\"mouseup\", function (e) {\n      e.preventDefault();\n      mousedown = false;\n    });\n\n    document.getElementById(\"calendarDays\").appendChild(d);\n  }\n\n  var clear = document.createElement(\"div\");\n  clear.className = \"clear\";\n  document.getElementById(\"calendarDays\").appendChild(clear);\n}\n\nfunction daysInMonth(month, year) {\n  var d = new Date(year, month + 1, 0);\n  return d.getDate();\n}\n\nvar h2 = document.getElementById(\"heading\");\nif (document) {\n  h2.addEventListener(\"load\", function () {\n    var date = new Date();\n    month = date.getMonth();\n    year = date.getFullYear();\n    document.getElementById(\"curMonth\").innerHTML = months[month];\n    document.getElementById(\"curYear\").innerHTML = year;\n    loadCalendarMonths();\n    loadCalendarYears();\n    loadCalendarDays();\n  });\n}\n\n// eslint-disable-next-line no-undef\n// module.exports = {\n//   loadCalendarMonths,\n//   loadCalendarYears,\n//   loadCalendarDays,\n//   daysInMonth,\n// };\n"]},"metadata":{},"sourceType":"script"}