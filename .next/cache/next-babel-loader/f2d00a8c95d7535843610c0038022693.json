{"ast":null,"code":"\"use strict\";\n\nvar _fs = require(\"fs\");\n\nvar domino = require('domino');\n\nvar DIST_FOLDER = join(process.cwd(), 'dist');\nvar template = (0, _fs.readFileSync)(join(DIST_FOLDER, 'browser', 'index.html')).toString();\nvar winObj = domino.createWindow(template);\nglobal['window'] = winObj;\nglobal['document'] = winObj.document;\nvar months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\nvar startYear = 2000;\nvar endYear = 2020;\nvar month = 0;\nvar year = 0;\nvar selectedDays = new Array();\nvar mousedown = false; // eslint-disable-next-line no-unused-vars\n\nvar mousemove = false;\n\nfunction loadCalendarMonths() {\n  for (var i = 0; i < months.length; i++) {\n    var doc = document.createElement(\"div\");\n    doc.innerHTML = months[i];\n    doc.classList.add(\"dropdown-item\");\n\n    doc.onclick = function () {\n      var selectedMonth = i;\n      return function () {\n        month = selectedMonth;\n        document.getElementById(\"curMonth\").innerHTML = months[month];\n        loadCalendarDays();\n        return month;\n      };\n    }();\n\n    document.getElementById(\"months\").appendChild(doc);\n  }\n}\n\nfunction loadCalendarYears() {\n  document.getElementById(\"years\").innerHTML = \"\";\n\n  for (var i = startYear; i <= endYear; i++) {\n    var doc = document.createElement(\"div\");\n    doc.innerHTML = i;\n    doc.classList.add(\"dropdown-item\");\n\n    doc.onclick = function () {\n      var selectedYear = i;\n      return function () {\n        year = selectedYear;\n        document.getElementById(\"curYear\").innerHTML = year;\n        loadCalendarDays();\n        return year;\n      };\n    }();\n\n    document.getElementById(\"years\").appendChild(doc);\n  }\n}\n\nfunction loadCalendarDays() {\n  document.getElementById(\"calendarDays\").innerHTML = \"\";\n  var tmpDate = new Date(year, month, 0);\n  var num = daysInMonth(month, year);\n  var dayofweek = tmpDate.getDay(); // find where to start calendar day of week\n\n  for (var i = 0; i <= dayofweek; i++) {\n    var d = document.createElement(\"div\");\n    d.classList.add(\"day\");\n    d.classList.add(\"blank\");\n    document.getElementById(\"calendarDays\").appendChild(d);\n  } // eslint-disable-next-line no-redeclare\n\n\n  for (var i = 0; i < num; i++) {\n    var tmp = i + 1; // eslint-disable-next-line no-redeclare\n\n    var d = document.createElement(\"div\");\n    d.id = \"calendarday_\" + tmp;\n    d.className = \"day\";\n    d.innerHTML = tmp;\n    d.dataset.day = tmp;\n    d.addEventListener(\"click\", function () {\n      this.classList.toggle(\"selected\");\n      if (!selectedDays.includes(this.dataset.day)) selectedDays.push(this.dataset.day);else selectedDays.splice(selectedDays.indexOf(this.dataset.day), 1);\n    });\n    d.addEventListener(\"mousemove\", function (e) {\n      e.preventDefault();\n\n      if (mousedown) {\n        this.classList.add(\"selected\");\n        if (!selectedDays.includes(this.dataset.day)) selectedDays.push(this.dataset.day);\n      }\n    });\n    d.addEventListener(\"mousedown\", function (e) {\n      e.preventDefault();\n      mousedown = true;\n    });\n    d.addEventListener(\"mouseup\", function (e) {\n      e.preventDefault();\n      mousedown = false;\n    });\n    document.getElementById(\"calendarDays\").appendChild(d);\n  }\n\n  var clear = document.createElement(\"div\");\n  clear.className = \"clear\";\n  document.getElementById(\"calendarDays\").appendChild(clear);\n}\n\nfunction daysInMonth(month, year) {\n  var d = new Date(year, month + 1, 0);\n  return d.getDate();\n}\n\nvar h2 = document.getElementById(\"heading\");\nh2.addEventListener(\"load\", function () {\n  var date = new Date();\n  month = date.getMonth();\n  year = date.getFullYear();\n  document.getElementById(\"curMonth\").innerHTML = months[month];\n  document.getElementById(\"curYear\").innerHTML = year;\n  loadCalendarMonths();\n  loadCalendarYears();\n  loadCalendarDays();\n}); // eslint-disable-next-line no-undef\n\nmodule.exports = {\n  loadCalendarMonths: loadCalendarMonths,\n  loadCalendarYears: loadCalendarYears,\n  loadCalendarDays: loadCalendarDays,\n  daysInMonth: daysInMonth\n};","map":{"version":3,"sources":["/Users/matthewcrook/code/personal-projects/javascript/calendar-in-javascript/pages/index.js"],"names":["domino","require","DIST_FOLDER","join","process","cwd","template","toString","winObj","createWindow","global","document","months","startYear","endYear","month","year","selectedDays","Array","mousedown","mousemove","loadCalendarMonths","i","length","doc","createElement","innerHTML","classList","add","onclick","selectedMonth","getElementById","loadCalendarDays","appendChild","loadCalendarYears","selectedYear","tmpDate","Date","num","daysInMonth","dayofweek","getDay","d","tmp","id","className","dataset","day","addEventListener","toggle","includes","push","splice","indexOf","e","preventDefault","clear","getDate","h2","date","getMonth","getFullYear","module","exports"],"mappings":"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","sourcesContent":["import { readFileSync } from 'fs';\nconst domino = require('domino');\nconst DIST_FOLDER = join(process.cwd(), 'dist');\nconst template = readFileSync(join(DIST_FOLDER, 'browser', 'index.html')).toString();\nconst winObj = domino.createWindow(template);\nglobal['window'] = winObj;\nglobal['document'] = winObj.document;\n\n\n\nvar months = [\n  \"Jan\",\n  \"Feb\",\n  \"Mar\",\n  \"Apr\",\n  \"May\",\n  \"Jun\",\n  \"Jul\",\n  \"Aug\",\n  \"Sep\",\n  \"Oct\",\n  \"Nov\",\n  \"Dec\",\n];\n\n\nvar startYear = 2000;\nvar endYear = 2020;\nvar month = 0;\nvar year = 0;\nvar selectedDays = new Array();\nvar mousedown = false;\n// eslint-disable-next-line no-unused-vars\nvar mousemove = false;\n\nfunction loadCalendarMonths() {\n  for (var i = 0; i < months.length; i++) {\n    var doc = document.createElement(\"div\");\n    doc.innerHTML = months[i];\n    doc.classList.add(\"dropdown-item\");\n\n    doc.onclick = (function () {\n      var selectedMonth = i;\n      return function () {\n        month = selectedMonth;\n        document.getElementById(\"curMonth\").innerHTML = months[month];\n        loadCalendarDays();\n        return month;\n      };\n    })();\n\n    document.getElementById(\"months\").appendChild(doc);\n  }\n}\n\nfunction loadCalendarYears() {\n  document.getElementById(\"years\").innerHTML = \"\";\n\n  for (var i = startYear; i <= endYear; i++) {\n    var doc = document.createElement(\"div\");\n    doc.innerHTML = i;\n    doc.classList.add(\"dropdown-item\");\n\n    doc.onclick = (function () {\n      var selectedYear = i;\n      return function () {\n        year = selectedYear;\n        document.getElementById(\"curYear\").innerHTML = year;\n        loadCalendarDays();\n        return year;\n      };\n    })();\n\n    document.getElementById(\"years\").appendChild(doc);\n  }\n}\n\nfunction loadCalendarDays() {\n  document.getElementById(\"calendarDays\").innerHTML = \"\";\n\n  var tmpDate = new Date(year, month, 0);\n  var num = daysInMonth(month, year);\n  var dayofweek = tmpDate.getDay(); // find where to start calendar day of week\n\n  for (var i = 0; i <= dayofweek; i++) {\n    var d = document.createElement(\"div\");\n    d.classList.add(\"day\");\n    d.classList.add(\"blank\");\n    document.getElementById(\"calendarDays\").appendChild(d);\n  }\n\n  // eslint-disable-next-line no-redeclare\n  for (var i = 0; i < num; i++) {\n    var tmp = i + 1;\n    // eslint-disable-next-line no-redeclare\n    var d = document.createElement(\"div\");\n    d.id = \"calendarday_\" + tmp;\n    d.className = \"day\";\n    d.innerHTML = tmp;\n    d.dataset.day = tmp;\n\n    d.addEventListener(\"click\", function () {\n      this.classList.toggle(\"selected\");\n\n      if (!selectedDays.includes(this.dataset.day))\n        selectedDays.push(this.dataset.day);\n      else selectedDays.splice(selectedDays.indexOf(this.dataset.day), 1);\n    });\n\n    d.addEventListener(\"mousemove\", function (e) {\n      e.preventDefault();\n      if (mousedown) {\n        this.classList.add(\"selected\");\n\n        if (!selectedDays.includes(this.dataset.day))\n          selectedDays.push(this.dataset.day);\n      }\n    });\n\n    d.addEventListener(\"mousedown\", function (e) {\n      e.preventDefault();\n      mousedown = true;\n    });\n\n    d.addEventListener(\"mouseup\", function (e) {\n      e.preventDefault();\n      mousedown = false;\n    });\n\n    document.getElementById(\"calendarDays\").appendChild(d);\n  }\n\n  var clear = document.createElement(\"div\");\n  clear.className = \"clear\";\n  document.getElementById(\"calendarDays\").appendChild(clear);\n}\n\nfunction daysInMonth(month, year) {\n  var d = new Date(year, month + 1, 0);\n  return d.getDate();\n}\n\nvar h2 = document.getElementById(\"heading\");\nh2.addEventListener(\"load\", function () {\n  var date = new Date();\n  month = date.getMonth();\n  year = date.getFullYear();\n  document.getElementById(\"curMonth\").innerHTML = months[month];\n  document.getElementById(\"curYear\").innerHTML = year;\n  loadCalendarMonths();\n  loadCalendarYears();\n  loadCalendarDays();\n});\n\n// eslint-disable-next-line no-undef\nmodule.exports = {\n  loadCalendarMonths,\n  loadCalendarYears,\n  loadCalendarDays,\n  daysInMonth,\n};\n"]},"metadata":{},"sourceType":"script"}